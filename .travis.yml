sudo: required
language: java
jdk:
- openjdk8
services:
- docker
env:
  global:
  - secure: Pur4U/QtoYbes/V9vkApU4Eq4yGWS6BVDRVLkmLNIy3VmlsKBsgFK+95iH0LS79+F4cF6R67jruxhbDtQZ6i+2t/WoCVZ0T/AQvn3uW/dgKMHwtYBxXcGzyaPx0KTSt9eoPlO6KGclFkXBZ0JR9PEvv1yoHq1EEGWq25Pt/D8bvsl10sJI5mxjquSGJY6aMaOzsZ1GaQJFXt3VNhk0cjl3iqAwdZZYx11lRZHljye4S5bAQrI29AD6jL2f26Ej2SLJQfszH2ampbBEaddp5C3m/YrhvGJM2i98nA0u2U1KlM1aJNhcsJBnI530+Itco7DVU3jDbhoHlq0mUsgrnlktUgXA8Gb1qR0Kr5gbjy+OfkWpzfVSKblrJbvG1BlrUlyvHt1gVxdvWQBFPG+Hgs7kDuTArKbW0Xf9uv3toGUhhSuVzAbHYEH4dE0wzpQlrhR2KiSVqCJuHDD5ysrMZq990Pp2mOU7f6sZoVve8XZdIvNmwgAxi6Vz54T2UmApIIOQMWbN2csgN4NPDCXfN+HUW77JCleXcq15f+8wDm97LswCC8KPfVljAtqbUZeyiyKU7koX+TzHVkqsHD6z7Vw/HuqXOf0yDx4etDkOPEWcTYA6cvy8f0PY68Ch2fDSAoSGrkXjn7RftQwtZbcYIJ24yzdf2O/Z2Zg5dQaMm1L80=
  - secure: gVcr2mLjbHzEO7C7TXvfeAeZ+gh210WuvlOLulZLEFvEvl8lXbj7ySY1pvA3KeyoWMfwWeE7HsWE/xlnme/iXAm8D9g5TwTyM23cuhsWiJ+dBqiZLKVt3YO8mrrJewOQLo3wjHkbgXIZFaoSayeQZkJjX2lX0qj6rHSqpDuSturl8G9LqhEPdkAddx/AY3O0Ra98GaduBx4ipeK0yF4OG18So0dKYR/ck/BMS2AV+7GPgfflkfuwwBL9zVoCsrPdCXH32Up0Wo3k9AMx99keXbePxmw+JBmKuOTX9qgXs8K4A1p0013aWZafw5YsD6hG4JVt8akk0ECg1mvTe1U1LkLCLPY2Lsef+imRp5anrM5c32DJXw5pGcelRe+rea+aE/C5PVFNc+RcvtLeBkzvtmyNeaqULzbyK0tiaBWIsQ8yYNk60LI+Frysp5RAr+3n7agGkwnK/UFWRAV6OvBXn/bHgGNUqDYEdU+TumEvRavUffwGIv9CyRGrhqafah2l9892a5uTObhX8990dWMRO9GBnMpU8TvtpHzvXyuPy+ytZfbchxpVFXfvVEpXeyeELvBy0sChTNhqfldlgqucEVlylCfz1QqWsZRfrE2UJ6hd/59/7TCCttKwtFAvD0J+vBSEvdukDldrv2ivJBmd5ISRNapWldlITF1ouGLRZeg=
addons:
  sonarcloud:
    organization: jorgerambla
    token:
      secure: "$SONAR_TOKEN"
script:
- "./gradlew clean build"
- "./gradlew test jacocoTestReport"
- sonar-scanner
deploy:
  provider: heroku
  api_key: "$HEROKU_API_KEY"
  app:
    master: murcy-api
    develop: pre-murcy-api
